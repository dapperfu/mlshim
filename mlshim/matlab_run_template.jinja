%% Automatically Generated Run Script
{% for header, value in headers.items() %}
% {{ header }}: {{ value }} 
{% endfor %}

try
    fprintf('\n###############################\n');
    fprintf('##########  Started  ##########\n');
    fprintf('###############################\n');
    restoredefaultpath;
{% for lang, cfg in mex.items() %}

{% endfor %}
{% if working_directory is not none %}
    cd('{{ working_directory }}');
{% endif %}

{%- for path in paths %}
    add('{{ path }}');
{% endfor %}

{%- for datafile in datafiles %}
    load('{{ datafile }}');
{% endfor %}

{% if profile %}

{% endif %}
{%- for script in scripts %}
    {{ script }}
{% endfor %}

{% if profile %}

{% endif %}

catch me
    fprintf('##############################\n');
    fprintf('##########  Failed  ##########\n');
    fprintf('##############################\n');
    fprintf('ERROR: %s (%s)\n\n',me.message, me.identifier)
    for i = numel(me.stack):-1:1
        fprintf('[Line %02d]: %s\n',me.stack(i).line,me.stack(i).file)
    end
    exit(1);
end
fprintf('\n##############################\n');
fprintf('########## Finished ##########\n');
fprintf('##############################\n');
exit(0);